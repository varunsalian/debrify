# The Pirate Bay Search Engine Configuration
# Classic torrent search via The Pirate Bay API

id: pirate_bay
display_name: "The Pirate Bay"
icon: sailing

# Engine capabilities
capabilities:
  keyword_search: true
  imdb_search: true
  series_support: false

# API endpoint
# Note: IMDB search uses keyword URL - searches for IMDB ID in torrent names
api:
  urls:
    keyword: "https://apibay.org/q.php"
    imdb: "https://apibay.org/q.php"

# Query parameters
query_params:
  type: query_params
  param_name: "q"

# No pagination - returns fixed ~100 results
pagination:
  type: none

# Response format
response_format:
  type: direct_json
  results_path: "$"  # Root array

# Empty result check
empty_check:
  type: field_value
  field: "[0].name"
  equals: "No results returned"

# Field mappings with transformations
field_mappings:
  infohash:
    source: "info_hash"
    type: direct
  name:
    source: "name"
    type: direct
  size_bytes:
    source: "size"
    type: direct
    conversion: string_to_int
  seeders:
    source: "seeders"
    type: direct
    conversion: string_to_int
  leechers:
    source: "leechers"
    type: direct
    conversion: string_to_int
  created_unix:
    source: "added"
    type: direct
    conversion: string_to_int
  category:
    source: "category"
    type: direct

# User-configurable settings
settings:
  - id: enabled
    type: toggle
    label: "Enable The Pirate Bay"
    default: true
  - id: max_results
    type: dropdown
    label: "Maximum Results"
    default: 100
    options: [25, 50, 75, 100]

# TV mode specific configuration
tv_mode:
  enabled_default: true
  limits:
    small: 100
    large: 100
    quick_play: 100