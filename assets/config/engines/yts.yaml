# YTS Search Engine Configuration
# Movie-focused torrent search via YTS API

id: yts
display_name: "YTS"
icon: movie_creation

# Engine capabilities
capabilities:
  keyword_search: true
  imdb_search: true
  series_support: false

# API endpoints - different for keyword and IMDB search
api:
  urls:
    keyword: "https://r.jina.ai/http://yts.mx/api/v2/list_movies.json"
    imdb: "https://r.jina.ai/http://yts.mx/api/v2/movie_details.json"

# Query parameters - different param names for each search type
query_params:
  type: query_params
  param_name:
    keyword: "query_term"
    imdb: "imdb_id"

# Extra parameters
extra_params:
  keyword:
    limit: 50

# No pagination - fixed limit
pagination:
  type: none

# Response format - jina wrapped
response_format:
  type: jina_wrapped
  extract_json: true
  results_path:
    keyword: "data.movies"
    imdb: "data.movie"

# Pre-checks for valid response
pre_checks:
  - field: "status"
    equals: "ok"

# Nested results configuration - torrents within movies
nested_results:
  enabled: true
  items_field: "torrents"
  parent_fields:
    - name: "_movie_title"
      source: "title_long"
      fallback: "title"
    - name: "_genres"
      source: "genres"
      type: join_comma

# Field mappings with transformations
field_mappings:
  infohash:
    source: "hash"
    type: direct
    conversion: lowercase
  name:
    type: template
    template: "{_movie_title} [{quality} {type}]"
  size_bytes:
    source: "size_bytes"
    type: direct
  seeders:
    source: "seeds"
    type: direct
  leechers:
    source: "peers"
    type: direct
  created_unix:
    source: "date_uploaded_unix"
    type: direct
  category:
    type: template
    template: "{_genres}"

# User-configurable settings
settings:
  - id: enabled
    type: toggle
    label: "Enable YTS"
    default: true
  # No max_results setting - fixed API limit

# TV mode specific configuration
tv_mode:
  enabled_default: false  # Movies only, not ideal for TV
  limits:
    small: 50
    large: 50
    quick_play: 50