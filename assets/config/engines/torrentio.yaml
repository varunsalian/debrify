# Torrentio Search Engine Configuration
# Stremio addon for IMDB-based searches with series support

id: torrentio
display_name: "Torrentio"
icon: cloud

# Engine capabilities
capabilities:
  keyword_search: false  # IMDB only
  imdb_search: true
  series_support: true

# API endpoints - different for movies and series
api:
  urls:
    movie: "https://torrentio.strem.fun/stream/movie/{imdb_id}.json"
    series: "https://torrentio.strem.fun/stream/series/{imdb_id}:{season}:{episode}.json"

# Path parameters (URL template variables)
path_params:
  type: path_params

# Series configuration
series_config:
  max_season_probes: 5
  default_episode: 1

# No pagination
pagination:
  type: none

# Response format
response_format:
  type: direct_json
  results_path: "streams"

# Field mappings with transformations
field_mappings:
  infohash:
    source: "infoHash"
    type: direct
    conversion: lowercase
  name:
    source: "title"
    type: direct
    conversion:
      type: replace
      find: "\n"
      replace: " "

# Special parsers for extracting data from title field
special_parsers:
  seeders:
    source: "title"
    type: regex
    pattern: "ðŸ‘¤\\s*(\\d+)"
    capture_group: 1
    conversion: string_to_int
  size_bytes:
    source: "title"
    type: regex
    pattern: "ðŸ’¾\\s*([\\d\\.]+)\\s*(KB|MB|GB|TB)"
    parser_type: size_with_unit

# User-configurable settings
settings:
  - id: enabled
    type: toggle
    label: "Enable Torrentio"
    default: true
  # No max_results setting - returns all available

# No TV mode configuration - advanced search only